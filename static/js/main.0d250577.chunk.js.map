{"version":3,"sources":["face-detector/index.ts","face-detector/common/triangulation.js","face-detector/common/utils.ts","App.tsx","reportWebVitals.ts","index.tsx"],"names":["Eevents","TRIANGULATION","mobileCheck","a","check","navigator","userAgent","vendor","window","opera","test","substr","tfjsWasm","FaceDetector","context","config","_output_render_context","_video","_stream","MediaStream","_is_scanning","_anim_id","_callbacks","model","_interval_id","keypoints","_image_metadata","render_fx","NUM_KEYPOINTS","NUM_IRIS_KEYPOINTS","palette","FACE","IRIS","FACE_IN_VIEW_THRESHOLD","RENDER_FX","TENSORFLOW_BACKEND","this","document","createElement","set_config","cover_ratio","image_height","image_width","top_left","x","y","fillStyle","fillRect","canvas","width","height","b","Math","sqrt","pow","points","closePath","region","Path2D","moveTo","i","length","point","lineTo","stroke","setTransform","start","Date","now","estimateFaces","input","returnTensors","flipHorizontal","predictIrises","predictions","end","faceInViewConfidence","found","topLeft","boundingBox","bottomRight","result","position","topRight","bottomLeft","profile_info","mspf","toFixed","fps","scaledMesh","setTimeout","_read","bind","clearTimeout","original_ratios","videoWidth","videoHeight","max","new_image_width","new_image_height","drawImage","strokeStyle","lineWidth","map","index","drawPath","leftCenter","leftDiameterY","distance","leftDiameterX","beginPath","ellipse","PI","rightCenter","rightDiameterY","rightDiameterX","requestAnimationFrame","_render","cancelAnimationFrame","text","lineHeight","maxWidth","getBoundingClientRect","words","split","line","font","textAlign","n","testLine","measureText","fillText","Promise","resolve","reject","mediaDevices","getUserMedia","video","ideal","facingMode","frameRate","aspectRatio","srcObject","play","tf","faceLandmarksDetection","mediapipeFacemesh","shouldLoadIrisModel","detectionConfidence","maxFaces","iouThreshold","ready","error","Error","print","pause","src","getTracks","forEach","track","stop","event","callback","clean_plate","clean_plate_context","getContext","video_track","getVideoTracks","image_capture","ImageCapture","takePhoto","image","get_clean_plate","toBlob","blob","App","face_detector","getElementById","on","style","display","detect","textContent","className","id","React","Component","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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E,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACtE,IAAK,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACrE,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,EAAG,EAAG,IAAK,IAAK,IAAK,IAAK,IACvE,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,GACzE,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACtE,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,EAAG,IAAK,IAAK,IACpE,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACtE,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACtE,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACtE,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACtE,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,EAAG,GAAI,IAAK,IAAK,IAAK,IACxE,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACtE,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACtE,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACtE,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACtE,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACtE,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACtE,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,IAAK,IAAK,GAAI,GACxE,IAAK,IAAK,IAAK,EAAG,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,EAAG,IAAK,IACvE,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACtE,IAAK,EAAG,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACpE,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACtE,IAAK,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACrE,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,GAAI,IACpE,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACtE,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACtE,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,EAAG,IAAK,IAAK,IAAK,IAAK,IACpE,IAAK,EAAG,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,IAAK,IAAK,GAAI,GAAI,IAAK,IAAK,IAAK,IACrE,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACtE,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACtE,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACtE,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACtE,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACtE,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,EAAG,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACpE,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,EAAG,IAAK,IAAK,IAAK,IAAK,IAAK,IACpE,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACtE,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACtE,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACtE,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACtE,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACtE,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACtE,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,GAAI,IAAK,GAAI,IAAK,IAAK,IAAK,IAAK,IACxE,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,GACrE,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,GAAI,GAAI,GAAI,IAAK,IAAK,IAAK,GAAI,GAAI,GACrE,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IACpE,IAAK,IAAK,IAAK,GAAI,GAAI,GAAI,IAAK,EAAG,IAAK,GAAI,GAAI,IAAK,GAAI,IAAK,IAAK,IAAK,GACxE,IAAK,IAAK,GAAI,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,IAAK,IA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AK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACtE,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACtE,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACtE,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACtE,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IACrE,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACtE,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACtE,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACtE,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACtE,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACtE,EAAG,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACpE,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,IACrE,IAAK,GAAI,IAAK,EAAG,IAAK,EAAG,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACtE,EAAG,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACpE,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACtE,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACtE,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACtE,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,IAAK,IACrE,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACtE,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACtE,IAAK,IAAK,IAAK,EAAG,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,IAAK,IACxE,IAAK,IAAK,IAAK,GAAI,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACrE,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACtE,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACtE,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACtE,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACtE,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,EAAG,IAAK,EAAG,IAAK,IAAK,IAAK,IAAK,IAAK,IACvE,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,GAAI,EAAG,IAAK,IAAK,IAAK,IAAK,IACxE,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACtE,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACtE,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IACtE,IAAK,IAAK,IAAK,IAAK,IAAK,I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","file":"static/js/main.0d250577.chunk.js","sourcesContent":["import * as faceLandmarksDetection from '@tensorflow-models/face-landmarks-detection';\r\nimport { MediaPipeFaceMesh } from '@tensorflow-models/face-landmarks-detection/dist/types';\r\nimport * as tf from '@tensorflow/tfjs-core';\r\n// If you are using the WebGL backend:\r\nimport '@tensorflow/tfjs-backend-webgl';\r\nimport '@tensorflow/tfjs-backend-cpu';\r\nimport * as tfjsWasm from '@tensorflow/tfjs-backend-wasm';\r\n\r\nimport {TRIANGULATION} from './common/triangulation';\r\nimport { Coord2D } from '@tensorflow-models/face-landmarks-detection/dist/mediapipe-facemesh/util';\r\nimport {mobileCheck} from './common/utils';\r\n\r\ntfjsWasm.setWasmPaths(\r\n    `https://cdn.jsdelivr.net/npm/@tensorflow/tfjs-backend-wasm@${tfjsWasm.version_wasm}/dist/`);\r\n\r\nexport interface ICallbacks {\r\n    found?: Function;\r\n    error?: Function;\r\n    ready?: Function;\r\n}\r\nenum Eevents {\r\n    found,\r\n    error,\r\n    ready\r\n}\r\nexport type events = keyof typeof Eevents;\r\nexport interface IPalette {\r\n    FACE : string;\r\n    IRIS : string;\r\n}\r\nexport interface IConfig {\r\n    NUM_KEYPOINTS          : number;\r\n    NUM_IRIS_KEYPOINTS     : number;\r\n    palette                : IPalette;\r\n    FACE_IN_VIEW_THRESHOLD : number;\r\n    RENDER_FX              : boolean;\r\n    TENSORFLOW_BACKEND     : string;\r\n}\r\nexport interface Config {\r\n    NUM_KEYPOINTS?          : number;\r\n    NUM_IRIS_KEYPOINTS?     : number;\r\n    palette?                : IPalette;\r\n    FACE_IN_VIEW_THRESHOLD? : number;\r\n    RENDER_FX?              : boolean;\r\n    TENSORFLOW_BACKEND?     : string;\r\n}\r\nexport interface IMetaData {\r\n    cover_ratio  : number;\r\n    top_left     : {x: number, y: number};\r\n    image_height : number;\r\n    image_width  : number;\r\n}\r\nexport type Vec2 = {\r\n    x: number;\r\n    y: number;\r\n}\r\nexport interface IPosition {\r\n    bottomLeft  : Vec2;\r\n    bottomRight : Vec2;\r\n    topLeft     : Vec2;\r\n    topRight    : Vec2;\r\n}\r\nexport interface IResult {\r\n    error?       : string;\r\n    position     : IPosition;\r\n    profile_info : {mspf: string, fps: string};\r\n}\r\nexport class Result implements IResult {\r\n    public error        : string;\r\n    public position     : IPosition;\r\n    public profile_info : {mspf: string, fps: string};\r\n    constructor(\r\n        result?      : {error?: string,\r\n        position?    : IPosition,\r\n        profile_info?: {mspf: string, fps: string}}\r\n    ) {\r\n        if (result) {\r\n            this.profile_info = result.profile_info ? result.profile_info : {mspf: '0', fps: '0'};\r\n            this.error = result.error               ? result.error        : '';\r\n            this.position = result.position         ? result.position     :\r\n            {\r\n                bottomRight: {x: 0, y: 0},\r\n                bottomLeft:  {x: 0, y: 0},\r\n                topRight:    {x: 0, y: 0},\r\n                topLeft:     {x: 0, y: 0},\r\n            };\r\n        } else {\r\n            this.profile_info = {mspf: '0', fps: '0'};\r\n            this.error       = '';\r\n            this.position    =\r\n            {\r\n                bottomRight: {x: 0, y: 0},\r\n                bottomLeft:  {x: 0, y: 0},\r\n                topRight:    {x: 0, y: 0},\r\n                topLeft:     {x: 0, y: 0},\r\n            };\r\n        }\r\n    }\r\n}\r\n\r\nexport class FaceDetector {\r\n    private _output_render_context : CanvasRenderingContext2D;\r\n    private _video                 : HTMLVideoElement;\r\n    private _stream                : MediaStream = new MediaStream();\r\n    private _is_scanning           : boolean = false;\r\n    private _anim_id               : number = 0;\r\n    protected _callbacks           : ICallbacks = {};\r\n    private model                  : MediaPipeFaceMesh | undefined;\r\n    private _interval_id           : number = 0;\r\n    private keypoints              : number[][];\r\n    private _image_metadata        : IMetaData;\r\n    private render_fx              : boolean = false;\r\n    private config                 : IConfig = {\r\n        NUM_KEYPOINTS: 468,\r\n        NUM_IRIS_KEYPOINTS: 5,\r\n        palette: {\r\n            FACE: '#32EEDB',\r\n            IRIS: '#FF2C35'\r\n        },\r\n        FACE_IN_VIEW_THRESHOLD: 0.8,\r\n        RENDER_FX: true,\r\n        TENSORFLOW_BACKEND: mobileCheck() ? \"wasm\" : \"webgl\"\r\n    };\r\n    constructor(context : CanvasRenderingContext2D, config? : Config) {\r\n        this._output_render_context = context;\r\n        this._video = document.createElement('video') as HTMLVideoElement;\r\n        if (config) {\r\n            this.set_config(config);\r\n        }\r\n\r\n        this.keypoints = [[0]];\r\n\r\n        this._image_metadata = {\r\n            cover_ratio:  0,\r\n            image_height: 0,\r\n            image_width:  0,\r\n            top_left: {\r\n                x: 0,\r\n                y: 0\r\n            }\r\n        }\r\n        //clear canvas to black\r\n        this._output_render_context.fillStyle = \"black\";\r\n        this._output_render_context.fillRect(\r\n            0,\r\n            0,\r\n            this._output_render_context.canvas.width,\r\n            this._output_render_context.canvas.height\r\n        );\r\n    }\r\n\r\n    private distance(a : number[], b : number[]) {\r\n        return Math.sqrt(Math.pow(a[0] - b[0], 2) + Math.pow(a[1] - b[1], 2));\r\n    }\r\n      \r\n    private drawPath(points : number[][], closePath : boolean) {\r\n        const region : Path2D = new Path2D();\r\n        region.moveTo(\r\n            (points[0][0] * this._image_metadata.cover_ratio) + this._image_metadata.top_left.x,\r\n            (points[0][1] - this._image_metadata.top_left.y) * this._image_metadata.cover_ratio\r\n        );\r\n        for (let i = 1; i < points.length; i++) {\r\n            const point : number[] = points[i];\r\n            region.lineTo(\r\n                (point[0] * this._image_metadata.cover_ratio) + this._image_metadata.top_left.x,\r\n                (point[1] - this._image_metadata.top_left.y) * this._image_metadata.cover_ratio\r\n            );\r\n        }\r\n        \r\n        if (closePath) {\r\n            region.closePath();\r\n        }\r\n        this._output_render_context.stroke(region);\r\n    }\r\n\r\n    private async _read() {\r\n        this._output_render_context.setTransform(-1,0,0,1,this._output_render_context.canvas.width,0);\r\n        // Pass in a video stream (or an image, canvas, or 3D tensor) to obtain an\r\n        // array of detected faces from the MediaPipe graph. If passing in a video\r\n        // stream, a single prediction per frame will be returned.\r\n        const start : number = Date.now();\r\n        const predictions = await this.model?.estimateFaces({\r\n            input: this._video,\r\n            returnTensors: false,\r\n            flipHorizontal: false,\r\n            predictIrises: true\r\n        });\r\n        const end : number = Date.now();\r\n\r\n        //render face triangle mesh\r\n        if (predictions && predictions.length > 0) {\r\n            if (\r\n                predictions[0].faceInViewConfidence > this.config.FACE_IN_VIEW_THRESHOLD\r\n                && this._callbacks.found\r\n            ) {\r\n                //face found render effects\r\n                this.render_fx = true;\r\n                \r\n                const topLeft : Vec2 = {\r\n                    x: (predictions[0].boundingBox.topLeft as Coord2D)[0],\r\n                    y: (predictions[0].boundingBox.topLeft as Coord2D)[1]\r\n                };\r\n\r\n                const bottomRight : Vec2 = {\r\n                    x: (predictions[0].boundingBox.bottomRight as Coord2D)[0],\r\n                    y: (predictions[0].boundingBox.bottomRight as Coord2D)[1]\r\n                };\r\n\r\n                const result : IResult = {\r\n                    position: {\r\n                        topLeft:     topLeft,\r\n                        bottomRight: bottomRight,\r\n                        topRight: {\r\n                            x: bottomRight.x,\r\n                            y: topLeft.y\r\n                        },\r\n                        bottomLeft: {\r\n                            x: topLeft.x,\r\n                            y: bottomRight.y\r\n                        }\r\n                    },\r\n                    profile_info: {\r\n                        mspf: (end-start).toFixed(2),\r\n                        fps: (1/((end-start)/1000)).toFixed(2)\r\n                    }\r\n                }\r\n                this._callbacks.found(result);\r\n            } else {\r\n                this.render_fx = false;\r\n            }\r\n            this.keypoints = predictions[0].scaledMesh as unknown as number[][];\r\n        }\r\n\r\n        if (this._is_scanning) {\r\n            this._interval_id = window.setTimeout(this._read.bind(this), 41);\r\n        } else {\r\n            clearTimeout(this._interval_id);\r\n        }\r\n    }\r\n\r\n    private async _render() {\r\n        this._output_render_context.setTransform(-1,0,0,1,this._output_render_context.canvas.width,0);\r\n        //scale to cover\r\n        let original_ratios = {\r\n            width: this._output_render_context.canvas.width / this._video.videoWidth,\r\n            height: this._output_render_context.canvas.height / this._video.videoHeight\r\n        };\r\n        \r\n        // formula for cover:\r\n        let cover_ratio = Math.max(original_ratios.width, original_ratios.height); \r\n        \r\n        // result:\r\n        let new_image_width  = this._video.videoWidth  * cover_ratio;\r\n        let new_image_height = this._video.videoHeight * cover_ratio;\r\n\r\n        // get the top left position of the image\r\n        let x = (this._output_render_context.canvas.width  / 2) - (this._video.videoWidth  / 2) * cover_ratio;\r\n        let y = (this._output_render_context.canvas.height / 2) - (this._video.videoHeight / 2) * cover_ratio;\r\n\r\n        this._image_metadata = {\r\n            cover_ratio:  cover_ratio,\r\n            image_height: new_image_height,\r\n            image_width:  new_image_width,\r\n            top_left: {\r\n                x: x,\r\n                y: y\r\n            },\r\n        };\r\n\r\n        //draw to canvas\r\n        this._output_render_context.drawImage(\r\n            this._video,\r\n            x,\r\n            y,\r\n            new_image_width,\r\n            new_image_height\r\n        );\r\n        \r\n        this._output_render_context.strokeStyle = this.config.palette.FACE;\r\n        this._output_render_context.lineWidth   = 0.5;\r\n        \r\n        //render effects (triangle mesh and iris mesh)\r\n        //render_fx if face found\r\n        //this.config.RENDER_FX if user wants effects rendered\r\n        if (this.keypoints.length > 1 && this.render_fx && this.config.RENDER_FX) {\r\n            //face\r\n            for (let i = 0; i < TRIANGULATION.length / 3; i++) {\r\n                const points = [\r\n                    TRIANGULATION[i * 3 + 0],\r\n                    TRIANGULATION[i * 3 + 1],\r\n                    TRIANGULATION[i * 3 + 2]\r\n                ].map(index => this.keypoints[index]);\r\n                this.drawPath(points, true);\r\n            }\r\n\r\n            //iris\r\n            if(this.keypoints.length > this.config.NUM_KEYPOINTS) {\r\n                this._output_render_context.strokeStyle = this.config.palette.IRIS;\r\n                this._output_render_context.lineWidth   = 1;\r\n        \r\n                const leftCenter    = this.keypoints[this.config.NUM_KEYPOINTS];\r\n                const leftDiameterY = this.distance(\r\n                    this.keypoints[this.config.NUM_KEYPOINTS + 4],\r\n                    this.keypoints[this.config.NUM_KEYPOINTS + 2]\r\n                );\r\n                const leftDiameterX = this.distance(\r\n                    this.keypoints[this.config.NUM_KEYPOINTS + 3],\r\n                    this.keypoints[this.config.NUM_KEYPOINTS + 1]\r\n                );\r\n        \r\n                this._output_render_context.beginPath();\r\n                this._output_render_context.ellipse(\r\n                    (leftCenter[0] * this._image_metadata.cover_ratio) + this._image_metadata.top_left.x,\r\n                    (leftCenter[1] - this._image_metadata.top_left.y)  * this._image_metadata.cover_ratio,\r\n                    leftDiameterX / 2,\r\n                    leftDiameterY / 2,\r\n                    0, 0, 2 * Math.PI\r\n                );\r\n                this._output_render_context.stroke();\r\n        \r\n                if(this.keypoints.length > this.config.NUM_KEYPOINTS + this.config.NUM_IRIS_KEYPOINTS) {\r\n                    const rightCenter = this.keypoints[this.config.NUM_KEYPOINTS + this.config.NUM_IRIS_KEYPOINTS];\r\n                    const rightDiameterY = this.distance(\r\n                        this.keypoints[this.config.NUM_KEYPOINTS + this.config.NUM_IRIS_KEYPOINTS + 2],\r\n                        this.keypoints[this.config.NUM_KEYPOINTS + this.config.NUM_IRIS_KEYPOINTS + 4]\r\n                    );\r\n                    const rightDiameterX = this.distance(\r\n                        this.keypoints[this.config.NUM_KEYPOINTS + this.config.NUM_IRIS_KEYPOINTS + 3],\r\n                        this.keypoints[this.config.NUM_KEYPOINTS + this.config.NUM_IRIS_KEYPOINTS + 1]\r\n                    );\r\n        \r\n                    this._output_render_context.beginPath();\r\n                    this._output_render_context.ellipse(\r\n                        (rightCenter[0] * this._image_metadata.cover_ratio) + this._image_metadata.top_left.x,\r\n                        (rightCenter[1] - this._image_metadata.top_left.y)  * this._image_metadata.cover_ratio,\r\n                        rightDiameterX / 2,\r\n                        rightDiameterY / 2,\r\n                        0, 0, 2 * Math.PI\r\n                    );\r\n                    this._output_render_context.stroke();\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n        if (this._is_scanning) {\r\n            this._anim_id = window.requestAnimationFrame(this._render.bind(this));\r\n        } else {\r\n            window.cancelAnimationFrame(this._anim_id);\r\n        }\r\n        \r\n    }\r\n\r\n    public print(text : string, x : number, y : number, lineHeight : number) {\r\n        const maxWidth : number = this._output_render_context.canvas.getBoundingClientRect().width;\r\n        let words      : string[] = text.split(' ');\r\n        let line       : string = '';\r\n\r\n        //write error message to canvas\r\n        this._output_render_context.font      = \"20px Arial\";\r\n        this._output_render_context.fillStyle = \"white\";\r\n        this._output_render_context.textAlign = \"center\";\r\n\r\n        for(let n = 0; n < words.length; n++) {\r\n          let testLine  : string      = line + words[n] + ' ';\r\n          let metrics   : TextMetrics = this._output_render_context.measureText(testLine);\r\n          let testWidth : number      = metrics.width;\r\n\r\n          if (testWidth > maxWidth && n > 0) {\r\n            this._output_render_context.fillText(line, x, y);\r\n            line = words[n] + ' ';\r\n            y += lineHeight;\r\n          }\r\n          else {\r\n            line = testLine;\r\n          }\r\n        }\r\n        this._output_render_context.fillText(line, x, y);\r\n    }\r\n\r\n    public detect() : Promise<void> {\r\n        return new Promise(async (resolve, reject) => {\r\n            if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {\r\n                try {\r\n                    if (!this._is_scanning) {\r\n                        this._stream = await navigator.mediaDevices.getUserMedia({\r\n                            video: {\r\n                                width: {\r\n                                    ideal: this._output_render_context.canvas.width\r\n                                }, \r\n                                height: {\r\n                                    ideal: this._output_render_context.canvas.height\r\n                                },\r\n                                facingMode: 'user',\r\n                                frameRate: {\r\n                                    ideal: 24\r\n                                },\r\n                                aspectRatio: {\r\n                                    ideal: 3/4\r\n                                }\r\n                            }\r\n                        });\r\n                      \r\n                        this._video.srcObject = this._stream;\r\n                        this._video?.play();\r\n                        \r\n                        this._is_scanning = true;\r\n\r\n                        this._render();\r\n                        \r\n\r\n                        //set tensorflow compute backend\r\n                        await tf.setBackend(this.config.TENSORFLOW_BACKEND);\r\n                        // Load the MediaPipe Facemesh package.\r\n                        this.model = await faceLandmarksDetection.load(\r\n                            faceLandmarksDetection.SupportedPackages.mediapipeFacemesh,\r\n                            {\r\n                                shouldLoadIrisModel: true,\r\n                                detectionConfidence: 1,\r\n                                maxFaces: 1,\r\n                                iouThreshold: 0,\r\n                                // scoreThreshold: 1,//let user discriminate\r\n                            }\r\n                        );\r\n                            \r\n                        this._read();\r\n                        \r\n                        if (this._callbacks.ready) {\r\n                            this._callbacks.ready();\r\n                        }\r\n                        resolve();\r\n    \r\n                    } else {\r\n                        const error : Error = new Error(\"Stream already initialised.\");\r\n                        if (this._callbacks.error) {\r\n                            this._callbacks.error(error);\r\n                        }\r\n\r\n                        reject(error);\r\n                    }\r\n                } catch(e) {\r\n                    if (this._callbacks.error) {\r\n                        this._callbacks.error(e);\r\n                    }\r\n\r\n                    \r\n                    this.print(\r\n                        \"Error. Permission denied. Please update browser permissions to access camera.\",\r\n                        this._output_render_context.canvas.width  / 2,\r\n                        this._output_render_context.canvas.height / 2,\r\n                        25\r\n                    );\r\n\r\n                    reject(e);\r\n                }\r\n            \r\n            } else {\r\n                const error : Error = new Error(\"Browser does not support getUserMedia.\");\r\n                if (this._callbacks.error) {\r\n                    this._callbacks.error(error);\r\n                }\r\n\r\n                //write error message to canvas\r\n                this.print(\r\n                    \"Error. Your browser does not support camera access. Use a modern browser or update your browser.\",\r\n                    this._output_render_context.canvas.width  / 2,\r\n                    this._output_render_context.canvas.height / 2,\r\n                    25\r\n                );\r\n\r\n                reject(error);\r\n            }\r\n        });\r\n    }\r\n\r\n    public stop() : Promise<boolean> {\r\n        return new Promise((resolve, reject) => {\r\n            if (this._stream) {\r\n                //stop scanning\r\n                this._is_scanning = false;\r\n                //stop camera\r\n                this._video.pause();\r\n                this._video.src = \"\";\r\n                this._stream.getTracks().forEach(function(track) {\r\n                    track.stop();\r\n                });\r\n    \r\n                //clear canvas to black\r\n                this._output_render_context.fillStyle = \"black\";\r\n                this._output_render_context.fillRect(\r\n                    0,\r\n                    0,\r\n                    this._output_render_context.canvas.width,\r\n                    this._output_render_context.canvas.height\r\n                );\r\n                resolve(true);\r\n            } else {\r\n                reject(new Error(\"Stream was not initialised.\"));\r\n            }\r\n        });\r\n    }\r\n\r\n    public on(event : events, callback : Function) : void {\r\n        switch(event) {\r\n            case \"found\":\r\n                this._callbacks.found = callback;\r\n                break;\r\n            \r\n            case \"error\":\r\n                this._callbacks.error = callback;\r\n                break;\r\n            \r\n            case \"ready\":\r\n                this._callbacks.ready = callback;\r\n                break;\r\n        }\r\n    }\r\n\r\n    public get_clean_plate() : HTMLCanvasElement {\r\n        const clean_plate         : HTMLCanvasElement        = document.createElement('canvas') as HTMLCanvasElement;\r\n        const clean_plate_context : CanvasRenderingContext2D = clean_plate.getContext('2d')     as CanvasRenderingContext2D;\r\n\r\n        clean_plate.height = this._image_metadata.image_height;\r\n        clean_plate.width = this._image_metadata.image_width;\r\n        //draw to canvas\r\n        clean_plate_context.drawImage(\r\n            this._video,\r\n            this._image_metadata.top_left.x,\r\n            this._image_metadata.top_left.y,\r\n            this._image_metadata.image_width,\r\n            this._image_metadata.image_height\r\n        );\r\n\r\n        return clean_plate;\r\n    }\r\n\r\n    public set_config(config : Config) {\r\n        //update config_vars\r\n        this.config = {\r\n            ...this.config,\r\n            ...config\r\n        };\r\n    }\r\n\r\n    public async getHQSanpshot() : Promise<Blob> {\r\n        try {\r\n            const video_track : MediaStreamTrack = this._stream.getVideoTracks()[0]\r\n            const image_capture = new ImageCapture(video_track);\r\n            const image : Blob = await image_capture.takePhoto();\r\n            return image;\r\n        } catch(e) {\r\n            //image capture unavailable?\r\n            const clean_plate : HTMLCanvasElement = this.get_clean_plate();\r\n            \r\n            return new Promise((resolve, reject) => {\r\n                clean_plate.toBlob(function (blob : Blob | null) {\r\n                    if (blob) {\r\n                        resolve(blob);\r\n                    } else {\r\n                        reject(new Error('Could not construct blob.'));\r\n                    }\r\n                }, 'image/png', 1);\r\n            })\r\n        }\r\n    }\r\n}","/**\r\n * @license\r\n * Copyright 2020 Google LLC. All Rights Reserved.\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n * https://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n * =============================================================================\r\n */\r\n\r\nexport const TRIANGULATION = [\r\n    127, 34, 139, 11, 0, 37, 232, 231, 120, 72, 37, 39, 128, 121, 47, 232, 121,\r\n    128, 104, 69, 67, 175, 171, 148, 157, 154, 155, 118, 50, 101, 73, 39, 40, 9,\r\n    151, 108, 48, 115, 131, 194, 204, 211, 74, 40, 185, 80, 42, 183, 40, 92,\r\n    186, 230, 229, 118, 202, 212, 214, 83, 18, 17, 76, 61, 146, 160, 29, 30, 56,\r\n    157, 173, 106, 204, 194, 135, 214, 192, 203, 165, 98, 21, 71, 68, 51, 45, 4,\r\n    144, 24, 23, 77, 146, 91, 205, 50, 187, 201, 200, 18, 91, 106, 182, 90, 91,\r\n    181, 85, 84, 17, 206, 203, 36, 148, 171, 140, 92, 40, 39, 193, 189, 244,\r\n    159, 158, 28, 247, 246, 161, 236, 3, 196, 54, 68, 104, 193, 168, 8, 117,\r\n    228, 31, 189, 193, 55, 98, 97, 99, 126, 47, 100, 166, 79, 218, 155, 154, 26,\r\n    209, 49, 131, 135, 136, 150, 47, 126, 217, 223, 52, 53, 45, 51, 134, 211,\r\n    170, 140, 67, 69, 108, 43, 106, 91, 230, 119, 120, 226, 130, 247, 63, 53,\r\n    52, 238, 20, 242, 46, 70, 156, 78, 62, 96, 46, 53, 63, 143, 34, 227, 173,\r\n    155, 133, 123, 117, 111, 44, 125, 19, 236, 134, 51, 216, 206, 205, 154, 153,\r\n    22, 39, 37, 167, 200, 201, 208, 36, 142, 100, 57, 212, 202, 20, 60, 99, 28,\r\n    158, 157, 35, 226, 113, 160, 159, 27, 204, 202, 210, 113, 225, 46, 43, 202,\r\n    204, 62, 76, 77, 137, 123, 116, 41, 38, 72, 203, 129, 142, 64, 98, 240, 49,\r\n    102, 64, 41, 73, 74, 212, 216, 207, 42, 74, 184, 169, 170, 211, 170, 149,\r\n    176, 105, 66, 69, 122, 6, 168, 123, 147, 187, 96, 77, 90, 65, 55, 107, 89,\r\n    90, 180, 101, 100, 120, 63, 105, 104, 93, 137, 227, 15, 86, 85, 129, 102,\r\n    49, 14, 87, 86, 55, 8, 9, 100, 47, 121, 145, 23, 22, 88, 89, 179, 6, 122,\r\n    196, 88, 95, 96, 138, 172, 136, 215, 58, 172, 115, 48, 219, 42, 80, 81, 195,\r\n    3, 51, 43, 146, 61, 171, 175, 199, 81, 82, 38, 53, 46, 225, 144, 163, 110,\r\n    246, 33, 7, 52, 65, 66, 229, 228, 117, 34, 127, 234, 107, 108, 69, 109, 108,\r\n    151, 48, 64, 235, 62, 78, 191, 129, 209, 126, 111, 35, 143, 163, 161, 246,\r\n    117, 123, 50, 222, 65, 52, 19, 125, 141, 221, 55, 65, 3, 195, 197, 25, 7,\r\n    33, 220, 237, 44, 70, 71, 139, 122, 193, 245, 247, 130, 33, 71, 21, 162,\r\n    153, 158, 159, 170, 169, 150, 188, 174, 196, 216, 186, 92, 144, 160, 161, 2,\r\n    97, 167, 141, 125, 241, 164, 167, 37, 72, 38, 12, 145, 159, 160, 38, 82, 13,\r\n    63, 68, 71, 226, 35, 111, 158, 153, 154, 101, 50, 205, 206, 92, 165, 209,\r\n    198, 217, 165, 167, 97, 220, 115, 218, 133, 112, 243, 239, 238, 241, 214,\r\n    135, 169, 190, 173, 133, 171, 208, 32, 125, 44, 237, 86, 87, 178, 85, 86,\r\n    179, 84, 85, 180, 83, 84, 181, 201, 83, 182, 137, 93, 132, 76, 62, 183, 61,\r\n    76, 184, 57, 61, 185, 212, 57, 186, 214, 207, 187, 34, 143, 156, 79, 239,\r\n    237, 123, 137, 177, 44, 1, 4, 201, 194, 32, 64, 102, 129, 213, 215, 138, 59,\r\n    166, 219, 242, 99, 97, 2, 94, 141, 75, 59, 235, 24, 110, 228, 25, 130, 226,\r\n    23, 24, 229, 22, 23, 230, 26, 22, 231, 112, 26, 232, 189, 190, 243, 221, 56,\r\n    190, 28, 56, 221, 27, 28, 222, 29, 27, 223, 30, 29, 224, 247, 30, 225, 238,\r\n    79, 20, 166, 59, 75, 60, 75, 240, 147, 177, 215, 20, 79, 166, 187, 147, 213,\r\n    112, 233, 244, 233, 128, 245, 128, 114, 188, 114, 217, 174, 131, 115, 220,\r\n    217, 198, 236, 198, 131, 134, 177, 132, 58, 143, 35, 124, 110, 163, 7, 228,\r\n    110, 25, 356, 389, 368, 11, 302, 267, 452, 350, 349, 302, 303, 269, 357,\r\n    343, 277, 452, 453, 357, 333, 332, 297, 175, 152, 377, 384, 398, 382, 347,\r\n    348, 330, 303, 304, 270, 9, 336, 337, 278, 279, 360, 418, 262, 431, 304,\r\n    408, 409, 310, 415, 407, 270, 409, 410, 450, 348, 347, 422, 430, 434, 313,\r\n    314, 17, 306, 307, 375, 387, 388, 260, 286, 414, 398, 335, 406, 418, 364,\r\n    367, 416, 423, 358, 327, 251, 284, 298, 281, 5, 4, 373, 374, 253, 307, 320,\r\n    321, 425, 427, 411, 421, 313, 18, 321, 405, 406, 320, 404, 405, 315, 16, 17,\r\n    426, 425, 266, 377, 400, 369, 322, 391, 269, 417, 465, 464, 386, 257, 258,\r\n    466, 260, 388, 456, 399, 419, 284, 332, 333, 417, 285, 8, 346, 340, 261,\r\n    413, 441, 285, 327, 460, 328, 355, 371, 329, 392, 439, 438, 382, 341, 256,\r\n    429, 420, 360, 364, 394, 379, 277, 343, 437, 443, 444, 283, 275, 440, 363,\r\n    431, 262, 369, 297, 338, 337, 273, 375, 321, 450, 451, 349, 446, 342, 467,\r\n    293, 334, 282, 458, 461, 462, 276, 353, 383, 308, 324, 325, 276, 300, 293,\r\n    372, 345, 447, 382, 398, 362, 352, 345, 340, 274, 1, 19, 456, 248, 281, 436,\r\n    427, 425, 381, 256, 252, 269, 391, 393, 200, 199, 428, 266, 330, 329, 287,\r\n    273, 422, 250, 462, 328, 258, 286, 384, 265, 353, 342, 387, 259, 257, 424,\r\n    431, 430, 342, 353, 276, 273, 335, 424, 292, 325, 307, 366, 447, 345, 271,\r\n    303, 302, 423, 266, 371, 294, 455, 460, 279, 278, 294, 271, 272, 304, 432,\r\n    434, 427, 272, 407, 408, 394, 430, 431, 395, 369, 400, 334, 333, 299, 351,\r\n    417, 168, 352, 280, 411, 325, 319, 320, 295, 296, 336, 319, 403, 404, 330,\r\n    348, 349, 293, 298, 333, 323, 454, 447, 15, 16, 315, 358, 429, 279, 14, 15,\r\n    316, 285, 336, 9, 329, 349, 350, 374, 380, 252, 318, 402, 403, 6, 197, 419,\r\n    318, 319, 325, 367, 364, 365, 435, 367, 397, 344, 438, 439, 272, 271, 311,\r\n    195, 5, 281, 273, 287, 291, 396, 428, 199, 311, 271, 268, 283, 444, 445,\r\n    373, 254, 339, 263, 466, 249, 282, 334, 296, 449, 347, 346, 264, 447, 454,\r\n    336, 296, 299, 338, 10, 151, 278, 439, 455, 292, 407, 415, 358, 371, 355,\r\n    340, 345, 372, 390, 249, 466, 346, 347, 280, 442, 443, 282, 19, 94, 370,\r\n    441, 442, 295, 248, 419, 197, 263, 255, 359, 440, 275, 274, 300, 383, 368,\r\n    351, 412, 465, 263, 467, 466, 301, 368, 389, 380, 374, 386, 395, 378, 379,\r\n    412, 351, 419, 436, 426, 322, 373, 390, 388, 2, 164, 393, 370, 462, 461,\r\n    164, 0, 267, 302, 11, 12, 374, 373, 387, 268, 12, 13, 293, 300, 301, 446,\r\n    261, 340, 385, 384, 381, 330, 266, 425, 426, 423, 391, 429, 355, 437, 391,\r\n    327, 326, 440, 457, 438, 341, 382, 362, 459, 457, 461, 434, 430, 394, 414,\r\n    463, 362, 396, 369, 262, 354, 461, 457, 316, 403, 402, 315, 404, 403, 314,\r\n    405, 404, 313, 406, 405, 421, 418, 406, 366, 401, 361, 306, 408, 407, 291,\r\n    409, 408, 287, 410, 409, 432, 436, 410, 434, 416, 411, 264, 368, 383, 309,\r\n    438, 457, 352, 376, 401, 274, 275, 4, 421, 428, 262, 294, 327, 358, 433,\r\n    416, 367, 289, 455, 439, 462, 370, 326, 2, 326, 370, 305, 460, 455, 254,\r\n    449, 448, 255, 261, 446, 253, 450, 449, 252, 451, 450, 256, 452, 451, 341,\r\n    453, 452, 413, 464, 463, 441, 413, 414, 258, 442, 441, 257, 443, 442, 259,\r\n    444, 443, 260, 445, 444, 467, 342, 445, 459, 458, 250, 289, 392, 290, 290,\r\n    328, 460, 376, 433, 435, 250, 290, 392, 411, 416, 433, 341, 463, 464, 453,\r\n    464, 465, 357, 465, 412, 343, 412, 399, 360, 363, 440, 437, 399, 456, 420,\r\n    456, 363, 401, 435, 288, 372, 383, 353, 339, 255, 249, 448, 261, 255, 133,\r\n    243, 190, 133, 155, 112, 33, 246, 247, 33, 130, 25, 398, 384, 286, 362, 398,\r\n    414, 362, 463, 341, 263, 359, 467, 263, 249, 255, 466, 467, 260, 75, 60,\r\n    166, 238, 239, 79, 162, 127, 139, 72, 11, 37, 121, 232, 120, 73, 72, 39,\r\n    114, 128, 47, 233, 232, 128, 103, 104, 67, 152, 175, 148, 173, 157, 155,\r\n    119, 118, 101, 74, 73, 40, 107, 9, 108, 49, 48, 131, 32, 194, 211, 184, 74,\r\n    185, 191, 80, 183, 185, 40, 186, 119, 230, 118, 210, 202, 214, 84, 83, 17,\r\n    77, 76, 146, 161, 160, 30, 190, 56, 173, 182, 106, 194, 138, 135, 192, 129,\r\n    203, 98, 54, 21, 68, 5, 51, 4, 145, 144, 23, 90, 77, 91, 207, 205, 187, 83,\r\n    201, 18, 181, 91, 182, 180, 90, 181, 16, 85, 17, 205, 206, 36, 176, 148,\r\n    140, 165, 92, 39, 245, 193, 244, 27, 159, 28, 30, 247, 161, 174, 236, 196,\r\n    103, 54, 104, 55, 193, 8, 111, 117, 31, 221, 189, 55, 240, 98, 99, 142, 126,\r\n    100, 219, 166, 218, 112, 155, 26, 198, 209, 131, 169, 135, 150, 114, 47,\r\n    217, 224, 223, 53, 220, 45, 134, 32, 211, 140, 109, 67, 108, 146, 43, 91,\r\n    231, 230, 120, 113, 226, 247, 105, 63, 52, 241, 238, 242, 124, 46, 156, 95,\r\n    78, 96, 70, 46, 63, 116, 143, 227, 116, 123, 111, 1, 44, 19, 3, 236, 51,\r\n    207, 216, 205, 26, 154, 22, 165, 39, 167, 199, 200, 208, 101, 36, 100, 43,\r\n    57, 202, 242, 20, 99, 56, 28, 157, 124, 35, 113, 29, 160, 27, 211, 204, 210,\r\n    124, 113, 46, 106, 43, 204, 96, 62, 77, 227, 137, 116, 73, 41, 72, 36, 203,\r\n    142, 235, 64, 240, 48, 49, 64, 42, 41, 74, 214, 212, 207, 183, 42, 184, 210,\r\n    169, 211, 140, 170, 176, 104, 105, 69, 193, 122, 168, 50, 123, 187, 89, 96,\r\n    90, 66, 65, 107, 179, 89, 180, 119, 101, 120, 68, 63, 104, 234, 93, 227, 16,\r\n    15, 85, 209, 129, 49, 15, 14, 86, 107, 55, 9, 120, 100, 121, 153, 145, 22,\r\n    178, 88, 179, 197, 6, 196, 89, 88, 96, 135, 138, 136, 138, 215, 172, 218,\r\n    115, 219, 41, 42, 81, 5, 195, 51, 57, 43, 61, 208, 171, 199, 41, 81, 38,\r\n    224, 53, 225, 24, 144, 110, 105, 52, 66, 118, 229, 117, 227, 34, 234, 66,\r\n    107, 69, 10, 109, 151, 219, 48, 235, 183, 62, 191, 142, 129, 126, 116, 111,\r\n    143, 7, 163, 246, 118, 117, 50, 223, 222, 52, 94, 19, 141, 222, 221, 65,\r\n    196, 3, 197, 45, 220, 44, 156, 70, 139, 188, 122, 245, 139, 71, 162, 145,\r\n    153, 159, 149, 170, 150, 122, 188, 196, 206, 216, 92, 163, 144, 161, 164, 2,\r\n    167, 242, 141, 241, 0, 164, 37, 11, 72, 12, 144, 145, 160, 12, 38, 13, 70,\r\n    63, 71, 31, 226, 111, 157, 158, 154, 36, 101, 205, 203, 206, 165, 126, 209,\r\n    217, 98, 165, 97, 237, 220, 218, 237, 239, 241, 210, 214, 169, 140, 171, 32,\r\n    241, 125, 237, 179, 86, 178, 180, 85, 179, 181, 84, 180, 182, 83, 181, 194,\r\n    201, 182, 177, 137, 132, 184, 76, 183, 185, 61, 184, 186, 57, 185, 216, 212,\r\n    186, 192, 214, 187, 139, 34, 156, 218, 79, 237, 147, 123, 177, 45, 44, 4,\r\n    208, 201, 32, 98, 64, 129, 192, 213, 138, 235, 59, 219, 141, 242, 97, 97, 2,\r\n    141, 240, 75, 235, 229, 24, 228, 31, 25, 226, 230, 23, 229, 231, 22, 230,\r\n    232, 26, 231, 233, 112, 232, 244, 189, 243, 189, 221, 190, 222, 28, 221,\r\n    223, 27, 222, 224, 29, 223, 225, 30, 224, 113, 247, 225, 99, 60, 240, 213,\r\n    147, 215, 60, 20, 166, 192, 187, 213, 243, 112, 244, 244, 233, 245, 245,\r\n    128, 188, 188, 114, 174, 134, 131, 220, 174, 217, 236, 236, 198, 134, 215,\r\n    177, 58, 156, 143, 124, 25, 110, 7, 31, 228, 25, 264, 356, 368, 0, 11, 267,\r\n    451, 452, 349, 267, 302, 269, 350, 357, 277, 350, 452, 357, 299, 333, 297,\r\n    396, 175, 377, 381, 384, 382, 280, 347, 330, 269, 303, 270, 151, 9, 337,\r\n    344, 278, 360, 424, 418, 431, 270, 304, 409, 272, 310, 407, 322, 270, 410,\r\n    449, 450, 347, 432, 422, 434, 18, 313, 17, 291, 306, 375, 259, 387, 260,\r\n    424, 335, 418, 434, 364, 416, 391, 423, 327, 301, 251, 298, 275, 281, 4,\r\n    254, 373, 253, 375, 307, 321, 280, 425, 411, 200, 421, 18, 335, 321, 406,\r\n    321, 320, 405, 314, 315, 17, 423, 426, 266, 396, 377, 369, 270, 322, 269,\r\n    413, 417, 464, 385, 386, 258, 248, 456, 419, 298, 284, 333, 168, 417, 8,\r\n    448, 346, 261, 417, 413, 285, 326, 327, 328, 277, 355, 329, 309, 392, 438,\r\n    381, 382, 256, 279, 429, 360, 365, 364, 379, 355, 277, 437, 282, 443, 283,\r\n    281, 275, 363, 395, 431, 369, 299, 297, 337, 335, 273, 321, 348, 450, 349,\r\n    359, 446, 467, 283, 293, 282, 250, 458, 462, 300, 276, 383, 292, 308, 325,\r\n    283, 276, 293, 264, 372, 447, 346, 352, 340, 354, 274, 19, 363, 456, 281,\r\n    426, 436, 425, 380, 381, 252, 267, 269, 393, 421, 200, 428, 371, 266, 329,\r\n    432, 287, 422, 290, 250, 328, 385, 258, 384, 446, 265, 342, 386, 387, 257,\r\n    422, 424, 430, 445, 342, 276, 422, 273, 424, 306, 292, 307, 352, 366, 345,\r\n    268, 271, 302, 358, 423, 371, 327, 294, 460, 331, 279, 294, 303, 271, 304,\r\n    436, 432, 427, 304, 272, 408, 395, 394, 431, 378, 395, 400, 296, 334, 299,\r\n    6, 351, 168, 376, 352, 411, 307, 325, 320, 285, 295, 336, 320, 319, 404,\r\n    329, 330, 349, 334, 293, 333, 366, 323, 447, 316, 15, 315, 331, 358, 279,\r\n    317, 14, 316, 8, 285, 9, 277, 329, 350, 253, 374, 252, 319, 318, 403, 351,\r\n    6, 419, 324, 318, 325, 397, 367, 365, 288, 435, 397, 278, 344, 439, 310,\r\n    272, 311, 248, 195, 281, 375, 273, 291, 175, 396, 199, 312, 311, 268, 276,\r\n    283, 445, 390, 373, 339, 295, 282, 296, 448, 449, 346, 356, 264, 454, 337,\r\n    336, 299, 337, 338, 151, 294, 278, 455, 308, 292, 415, 429, 358, 355, 265,\r\n    340, 372, 388, 390, 466, 352, 346, 280, 295, 442, 282, 354, 19, 370, 285,\r\n    441, 295, 195, 248, 197, 457, 440, 274, 301, 300, 368, 417, 351, 465, 251,\r\n    301, 389, 385, 380, 386, 394, 395, 379, 399, 412, 419, 410, 436, 322, 387,\r\n    373, 388, 326, 2, 393, 354, 370, 461, 393, 164, 267, 268, 302, 12, 386, 374,\r\n    387, 312, 268, 13, 298, 293, 301, 265, 446, 340, 380, 385, 381, 280, 330,\r\n    425, 322, 426, 391, 420, 429, 437, 393, 391, 326, 344, 440, 438, 458, 459,\r\n    461, 364, 434, 394, 428, 396, 262, 274, 354, 457, 317, 316, 402, 316, 315,\r\n    403, 315, 314, 404, 314, 313, 405, 313, 421, 406, 323, 366, 361, 292, 306,\r\n    407, 306, 291, 408, 291, 287, 409, 287, 432, 410, 427, 434, 411, 372, 264,\r\n    383, 459, 309, 457, 366, 352, 401, 1, 274, 4, 418, 421, 262, 331, 294, 358,\r\n    435, 433, 367, 392, 289, 439, 328, 462, 326, 94, 2, 370, 289, 305, 455, 339,\r\n    254, 448, 359, 255, 446, 254, 253, 449, 253, 252, 450, 252, 256, 451, 256,\r\n    341, 452, 414, 413, 463, 286, 441, 414, 286, 258, 441, 258, 257, 442, 257,\r\n    259, 443, 259, 260, 444, 260, 467, 445, 309, 459, 250, 305, 289, 290, 305,\r\n    290, 460, 401, 376, 435, 309, 250, 392, 376, 411, 433, 453, 341, 464, 357,\r\n    453, 465, 343, 357, 412, 437, 343, 399, 344, 360, 440, 420, 437, 456, 360,\r\n    420, 363, 361, 401, 288, 265, 372, 353, 390, 339, 249, 339, 448, 255];","export function mobileCheck () {\r\n    let check = false;\r\n    (function(a){if(/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(a.substr(0,4))) check = true;})(navigator.userAgent||navigator.vendor||(window as any).opera);\r\n    return check;\r\n};","import React from 'react';\r\nimport './App.css';\r\nimport {FaceDetector, IResult} from './face-detector/index';\r\n\r\nclass App extends React.Component {\r\n  private face_detector : FaceDetector | undefined;\r\n  componentDidMount() {\r\n    const canvas : HTMLCanvasElement = document.getElementById('canvas') as HTMLCanvasElement;\r\n    const context : CanvasRenderingContext2D = canvas.getContext('2d') as CanvasRenderingContext2D;\r\n    this.face_detector = new FaceDetector(context, {\r\n      palette: {\r\n        FACE: '#5CB4F3',\r\n        IRIS: '#E8760C'\r\n      },\r\n      FACE_IN_VIEW_THRESHOLD: 0.9,\r\n      RENDER_FX: true\r\n    });\r\n\r\n    this.face_detector.on('ready', () => {\r\n      const loading : HTMLDivElement = document.getElementById('loading') as HTMLDivElement;\r\n      loading.style.display = \"none\";\r\n    });\r\n    const fps : HTMLParagraphElement = document.getElementById('fps') as HTMLParagraphElement;\r\n    const mspf : HTMLParagraphElement = document.getElementById('mspf') as HTMLParagraphElement;\r\n\r\n    this.face_detector.detect();\r\n    this.face_detector.on('found', async (result : IResult) => {\r\n      fps.textContent = `FPS: ${result.profile_info.fps}`;\r\n      mspf.textContent = `MSPF: ${result.profile_info.mspf}`;\r\n      \r\n      //this.face_detector?.stop();\r\n    });\r\n    this.face_detector.on('error', () => {\r\n      this.face_detector?.stop();\r\n    });\r\n  }\r\n  render() {\r\n    return (\r\n      <div className=\"App\">\r\n        <header className=\"App-header\">\r\n          <div id=\"loading\">\r\n            <p>Loading...</p>\r\n          </div>\r\n          <div id=\"profile-info\">\r\n            <h5>Stats</h5>\r\n            <p id=\"fps\"></p>\r\n            <p id=\"mspf\"></p>\r\n          </div>\r\n          <div id=\"canvas-container\">\r\n            <canvas id=\"canvas\" width=\"360\" height=\"480\" />\r\n          </div>\r\n          <div>\r\n            <img id=\"image\" />\r\n          </div>\r\n        </header>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}